(()=>{"use strict";var e={702:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(883),s=n(i(250)),r=n(i(144)),l=n(i(944));class d extends r.default{getOutputValue(){return this.getValue()}validateField(){return a.FieldValidation.validIf(this.getValue().trim().length>4,"Name too short")}}class u extends r.default{afterConstruct(){this.setAttribute("type","number")}getOutputValue(){return Number(this.getValue())}validateField(){const e=this.getValue(),t=Number(e);return a.FieldValidation.invalidOne(a.FieldValidation.validIf(!Number.isNaN(t),"Invalid number"),a.FieldValidation.validIf(t>0,"Expected positive number"),a.FieldValidation.validIf(t<120,"Age too high"))}}class o extends r.default{afterConstruct(){this.setAttribute("type","email")}getOutputValue(){return this.getValue()}validateField(){const e=this.getValue().trim();return a.FieldValidation.invalidOne(a.FieldValidation.validIf(e.length>4,"Invalid email address"),a.FieldValidation.validIf(e.includes("@"),"Expected @"),a.FieldValidation.validIf(e.includes("."),"Expected a ."))}}class c extends r.default{afterConstruct(){this.setAttribute("type","password")}getOutputValue(){return this.getValue()}validateField(){return a.FieldValidation.validIf(this.getValue().trim().length>=8,"Password too short")}}const h=new s.default(1,"page1","Personal data",[new d("name","Type your name"),new u("age","Type your age")],!1),f=new s.default(2,"page2","Account info",[new o("email","Type your email address"),new c("password","Create a password")],!0);h.on("next",(e=>{const t=h.getValidationError();if(t)return alert(t);l.default.next()})),f.on("back",(()=>l.default.back())),f.on("next",(()=>{const e=f.getValidationError();if(e)return alert(e);const t=h.getOutput(),i=f.getOutput();console.log("Output: ",t,i),alert(`Account created!\nUser data:\nUser name: ${t.name}\nUser age: ${t.age}\nLogin data:\nEmail: ${i.email}\nPassword: ****${i.password.substring(4)}`)})),h.buildTo(document.querySelector("#root")),f.buildTo(document.querySelector("#root"))},883:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldValidation=void 0,t.FieldValidation=class{static invalidField(e){return{valid:!1,invalidReason:e}}static validField(){return{valid:!0,invalidReason:null}}static validIf(e,t){return e?this.validField():this.invalidField(t)}static invalidOne(...e){for(let t of e)if(!t.valid)return t;return this.validField()}}},250:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(i(972));function s(e,t,i){const n=document.createElement(e);return t.forEach((e=>e&&n.classList.add(e))),i&&("string"==typeof i?n.innerText=i:i.forEach((e=>n.appendChild(e)))),n}class r extends a.default{constructor(e,t,i,n=[],a=!0,s=[],r={}){1===e&&s.push("page-focused"),s.push("page"),super("SECTION",s,r),this.index=e,this.name=t,this.title=i,this.showReturnButton=a,this.fields=n,this.setAttribute("page-index",String(this.index))}addField(e){this.fields.push(e)}getField(e){for(let t of this.fields)if(t.name===e)return t;return null}validate(){const e=[];for(let t of this.fields)e.push(t.validate());return e}fireGoNext(e){super.fireEvent("next",e)}fireGoBack(e){super.fireEvent("back",e)}createElement(e){const t=document.createElement(this.tagName);e.appendChild(t);const i=s("DIV",["back-arrow",this.showReturnButton?"":"invisible"].filter((e=>e))),n=s("DIV",["page-header"],[i,s("DIV",["back-title"],this.title)]),a=s("BUTTON",["continue-btn"],"Continue"),r=s("DIV",["field-container"]),l=s("DIV",["page-content"],[s("DIV",["center-container"],[r]),s("DIV",["continue-btn-container"],[a])]);return t.appendChild(n),t.appendChild(l),this.nextBtn=a,this.backBtn=i,this.fieldContainer=r,t}afterElementBuilt(){this.getElement();for(let e of this.fields)e.buildTo(this.fieldContainer);this.nextBtn.addEventListener("click",(e=>{this.fireGoNext(e)})),this.backBtn.addEventListener("click",(e=>{this.fireGoBack(e)}))}getValidationError(){const e=this.validate();for(let t of e)if(!t.valid)return t.invalidReason||"";return null}getOutput(){const e={};for(const t of this.fields){const i=t.validate();if(!i.valid)throw new Error(`All fields must be in a valid state! Field "${t.name}" is not valid: "${i.invalidReason}".`);e[t.name]=t.getOutputValue()}return e}}t.default=r},144:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(i(972));class s extends a.default{constructor(e,t,i=!0,n=[],a={}){n.push("field"),super("INPUT",n,a),this.name=e,this.description=t,this.required=i,this.afterConstruct()}afterConstruct(){}validate(){return this.validateField()}getValue(){const e=this.getElement();return e?e.value:this.attributes.value||null}createElement(e){const t=document.createElement(this.tagName),i=document.createElement("div");i.classList.add("field-element-container");const n=document.createElement("div");return n.classList.add("field-description"),n.textContent=this.description,e.appendChild(i),i.appendChild(n),i.appendChild(t),t}}t.default=s},944:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const i={currentPage:1,setPage(e){e==this.currentPage||e<1||($(`.page[page-index="${this.currentPage}"]`).removeClass("page-focused"),$(".page-container").stop().animate({scrollLeft:(e-1)*window.innerWidth},200),$(`.page[page-index="${e}"]`).addClass("page-focused"),this.currentPage=e)},fixCurrentPage(){$(".page-container").scrollLeft((this.currentPage-1)*window.innerWidth)},back(){this.currentPage>0&&this.setPage(this.currentPage-1)},next(){this.setPage(this.currentPage+1)}};$(window).on("resize",(()=>{i.fixCurrentPage()})),t.default=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e="input",t=[],i={}){this.tagName=e,this.cssClasses=t,this.attributes=i,this.virtualEvents=[]}getElement(){return this.element||null}getAttribute(e){const t=this.getElement();if(!t){const t=this.attributes[e];return null==t?null:t}return t.getAttribute(e)}setAttribute(e,t){const i=this.getElement();i&&i.setAttribute(e,t),this.attributes[e]=t}on(e,t){const i=this.getElement();this.virtualEvents.push({evName:e,callback:t}),i&&i.addEventListener(e,t)}createElement(e){const t=document.createElement(this.tagName);return e.appendChild(t),t}afterElementBuilt(){}buildTo(e){this.element=this.createElement(e);for(let e in this.attributes){const t=this.attributes[e];this.element.setAttribute(e,t)}for(let e of this.virtualEvents)this.element.addEventListener(e.evName,e.callback);return this.cssClasses.forEach((e=>this.element.classList.add(e))),this.afterElementBuilt(),this.getElement()}fireEvent(e,t){for(let i of this.virtualEvents)i.evName==e&&i.callback(t)}}}},t={};!function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}(702)})();